{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\dev\\\\diplom\\\\movies-explorer-frontend\\\\src\\\\components\\\\App\\\\App.js\",\n  _s = $RefreshSig$();\nimport Header from '../Header/';\n// import Main from './Main';\n// import Footer from './Footer';\n// import EditPopup from './EditPopup';\n// import AddPopup from './AddPopup';\n// import AvatarPopup from './AvatarPopup';\n// import DeletePopup from './DeletePopup';\nimport { useState, useEffect } from 'react';\nimport './App.css';\n// import ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { api } from '../../utils/Api';\n// import Login from './Login';\n// import { Route, Switch, Redirect, useNavigate } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\n// import ProtectedRoute from './ProtectedRoute';\n// import Register from './Register';\n// import InfoTooltip from './InfoTooltip';\n// import authApi from '../utils/authApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [currentUser, setCurrentUser] = useState({});\n  const [isProfileEmail, setIsProfileEmail] = useState('');\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const historyUse = useNavigate();\n  useEffect(() => {\n    api.getUserInfo().then(res => {\n      setCurrentUser(res);\n    }).catch(err => console.log(err));\n  }, []);\n  const handleLogout = () => {\n    localStorage.removeItem('jwt');\n    setIsProfileEmail('');\n    setIsLoggedIn(false);\n    historyUse.push('/sign-in');\n  };\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: currentUser,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(Header, {\n        isLoggedIn: isLoggedIn,\n        isProfileEmail: isProfileEmail,\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"M+2sfz7kcK5o/leDRPpVPiA7mzo=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Header","useState","useEffect","CurrentUserContext","api","useNavigate","jsxDEV","_jsxDEV","App","_s","currentUser","setCurrentUser","isProfileEmail","setIsProfileEmail","isLoggedIn","setIsLoggedIn","historyUse","getUserInfo","then","res","catch","err","console","log","handleLogout","localStorage","removeItem","push","Provider","value","children","className","onLogout","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/dev/diplom/movies-explorer-frontend/src/components/App/App.js"],"sourcesContent":["import Header from '../Header/';\n// import Main from './Main';\n// import Footer from './Footer';\n// import EditPopup from './EditPopup';\n// import AddPopup from './AddPopup';\n// import AvatarPopup from './AvatarPopup';\n// import DeletePopup from './DeletePopup';\nimport { useState, useEffect } from 'react';\nimport './App.css';\n// import ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { api } from '../../utils/Api';\n// import Login from './Login';\n// import { Route, Switch, Redirect, useNavigate } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\n// import ProtectedRoute from './ProtectedRoute';\n// import Register from './Register';\n// import InfoTooltip from './InfoTooltip';\n// import authApi from '../utils/authApi';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({});\n  const [isProfileEmail, setIsProfileEmail] = useState('')\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  const historyUse = useNavigate();\n\n  useEffect(() => {\n    api.getUserInfo()\n       .then((res) => {\n          setCurrentUser(res)\n       })\n       .catch((err) => console.log(err))\n }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem('jwt');\n    setIsProfileEmail('')\n    setIsLoggedIn(false);\n    historyUse.push('/sign-in');\n }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"App\">\n      <Header\n        isLoggedIn={isLoggedIn}\n        isProfileEmail={isProfileEmail}\n        onLogout={handleLogout}\n      />\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAO,WAAW;AAClB;AACA,SAASC,kBAAkB,QAAQ,gCAAgC;AACnE,SAASC,GAAG,QAAQ,iBAAiB;AACrC;AACA;AACA,SAASC,WAAW,QAAQ,kBAAkB;AAC9C;AACA;AACA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEA,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClD,MAAM,CAACW,cAAc,EAAEC,iBAAiB,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACa,UAAU,EAAEC,aAAa,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAEnD,MAAMe,UAAU,GAAGX,WAAW,EAAE;EAEhCH,SAAS,CAAC,MAAM;IACdE,GAAG,CAACa,WAAW,EAAE,CACbC,IAAI,CAAEC,GAAG,IAAK;MACZR,cAAc,CAACQ,GAAG,CAAC;IACtB,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;EACvC,CAAC,EAAE,EAAE,CAAC;EAEL,MAAMG,YAAY,GAAGA,CAAA,KAAM;IACzBC,YAAY,CAACC,UAAU,CAAC,KAAK,CAAC;IAC9Bb,iBAAiB,CAAC,EAAE,CAAC;IACrBE,aAAa,CAAC,KAAK,CAAC;IACpBC,UAAU,CAACW,IAAI,CAAC,UAAU,CAAC;EAC9B,CAAC;EAEA,oBACEpB,OAAA,CAACJ,kBAAkB,CAACyB,QAAQ;IAACC,KAAK,EAAEnB,WAAY;IAAAoB,QAAA,eAChDvB,OAAA;MAAKwB,SAAS,EAAC,KAAK;MAAAD,QAAA,eAClBvB,OAAA,CAACP,MAAM;QACLc,UAAU,EAAEA,UAAW;QACvBF,cAAc,EAAEA,cAAe;QAC/BoB,QAAQ,EAAER;MAAa;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IACvB;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACE;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACwB;AAElC;AAAC3B,EAAA,CAjCQD,GAAG;EAAA,QAKSH,WAAW;AAAA;AAAAgC,EAAA,GALvB7B,GAAG;AAmCZ,eAAeA,GAAG;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}