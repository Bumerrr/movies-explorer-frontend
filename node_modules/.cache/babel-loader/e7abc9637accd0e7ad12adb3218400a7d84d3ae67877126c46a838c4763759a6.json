{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\dev\\\\diplom\\\\movies-explorer-frontend\\\\src\\\\components\\\\App\\\\App.js\",\n  _s = $RefreshSig$();\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport NotFound from '../NotFound/NotFound';\nimport Movies from '../Movies/Movies';\nimport Profile from '../Profile/Profile';\n// import Footer from './Footer';\nimport EditPopup from '../EditPopup/EditPopup';\n// import AddPopup from './AddPopup';\n// import AvatarPopup from './AvatarPopup';\n// import DeletePopup from './DeletePopup';\nimport { useState, useCallback } from 'react';\nimport './App.css';\n// import ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport { api } from '../../utils/Api';\nimport Login from '../Login/Login';\nimport Register from '../Register/Register';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\n// import { useHistory } from 'react-router-dom';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\n// import InfoTooltip from './InfoTooltip';\n// import authApi from '../../utils/authApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App(_ref) {\n  _s();\n  let {\n    history\n  } = _ref;\n  const [loggedIn, setLoggedIn] = useState(localStorage.getItem(\"jwt\") !== null);\n  const [currentUser, setCurrentUser] = useState();\n  const [popup, setPopup] = useState();\n  const [externalMovies, setExternalMovies] = useState();\n  const [myMovies, setMyMovies] = useState();\n\n  // Выход\n  const logOut = useCallback(e => {\n    if (e) e.preventDefault();\n    localStorage.removeItem(\"jwt\");\n    setCurrentUser();\n    localStorage.removeItem(\"myMovies\");\n    setMyMovies();\n    localStorage.removeItem(\"externalMovies\");\n    setExternalMovies();\n    localStorage.removeItem(\"externalMoviesSearch\");\n    localStorage.removeItem(\"externalMoviesToggle\");\n    localStorage.removeItem(\"myMoviesSearch\");\n    localStorage.removeItem(\"myMoviesToggle\");\n    setLoggedIn(false);\n    history.push(\"/\");\n    setPopup({\n      type: \"success\",\n      text: \"Вы успешно вышли\"\n    });\n  }, [history]);\n  const getUser = useCallback(jwt => {\n    return api.checkAuth(jwt).then(res => {\n      if (res) {\n        setCurrentUser(res);\n        const savedExternalMovies = JSON.parse(localStorage.getItem(\"externalMovies\"));\n        if (savedExternalMovies && Array.isArray(savedExternalMovies)) {\n          setExternalMovies(savedExternalMovies);\n        }\n        const savedMyMovies = JSON.parse(localStorage.getItem(\"myMovies\"));\n        if (savedMyMovies && Array.isArray(savedMyMovies)) {\n          setMyMovies(savedMyMovies);\n        }\n      }\n    }).catch(err => {\n      logOut();\n      console.log(err);\n    });\n  }, [logOut]);\n  useEffect(() => {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (loggedIn && jwt && !currentUser) {\n      getUser(jwt);\n    }\n  }, [loggedIn, getUser, currentUser]);\n  const error = err => {\n    console.log(err);\n    setPopup({\n      type: \"error\",\n      text: err && err.message ? err.message : \"Произошла ошибка\"\n    });\n  };\n  const handleRegister = (password, email, name) => {\n    return MainApi.register(password, email, name).then(res => {\n      setPopup({\n        type: \"success\",\n        text: \"Вы успешно зарегистрировались\"\n      });\n      history.push(\"/signin\");\n    }).catch(error);\n  };\n\n  // Запрос на логин по паролю и мэйлу\n  const handleLogin = (password, email) => {\n    return new Promise((resolve, reject) => {\n      MainApi.login(password, email).then(res => {\n        if (res && res.token) {\n          getUser(res.token).then(usr => {\n            localStorage.setItem(\"jwt\", res.token);\n            setLoggedIn(true);\n            setPopup({\n              type: \"success\",\n              text: \"Вы успешно вошли\"\n            });\n            history.push(\"/movies\");\n            resolve();\n          }).catch(err => {\n            error(err);\n            reject();\n          });\n        }\n      }).catch(err => {\n        error(err);\n        reject();\n      });\n    });\n  };\n  const handleUpdateUser = data => {\n    return MainApi.setUser(data).then(data => {\n      setCurrentUser(data);\n      setPopup({\n        type: \"success\",\n        text: \"Профиль успешно сохранен\"\n      });\n    }).catch(error);\n  };\n  const handlerCreateMovie = data => {\n    MainApi.createMovie(data).then(res => {\n      setMyMovies(m => {\n        m.push(res);\n        localStorage.setItem(\"myMovies\", JSON.stringify(m));\n        return [...m];\n      });\n      setPopup({\n        type: \"success\",\n        text: \"Фильм успешно сохранен\"\n      });\n    }).catch(error);\n  };\n  const handlerDeleteMovie = id => {\n    MainApi.deleteMovie(id).then(() => {\n      setMyMovies(m => {\n        m = m.filter(f => f._id !== id);\n        localStorage.setItem(\"myMovies\", JSON.stringify(m));\n        return [...m];\n      });\n      setPopup({\n        type: \"success\",\n        text: \"Фильм успешно удален\"\n      });\n    }).catch(error);\n  };\n  const getExternalMovies = () => {\n    return new Promise((resolve, reject) => {\n      const saved = JSON.parse(localStorage.getItem(\"externalMovies\"));\n      if (saved && Array.isArray(saved)) {\n        resolve(saved);\n      } else {\n        getMovies().then(res => {\n          localStorage.setItem(\"externalMovies\", JSON.stringify(res));\n          resolve(res);\n        }).catch(err => {\n          error(err);\n          reject();\n        });\n      }\n    });\n  };\n  const getMyMovies = () => {\n    return new Promise((resolve, reject) => {\n      const saved = JSON.parse(localStorage.getItem(\"myMovies\"));\n      if (saved && Array.isArray(saved)) {\n        resolve(saved);\n      } else {\n        MainApi.getMovies().then(res => {\n          localStorage.setItem(\"myMovies\", JSON.stringify(res));\n          resolve(res);\n        }).catch(err => {\n          error(err);\n          reject();\n        });\n      }\n    });\n  };\n  if (loggedIn && !currentUser) return null;\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: currentUser,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          exact: true,\n          children: /*#__PURE__*/_jsxDEV(Main, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/sign-up\",\n          children: /*#__PURE__*/_jsxDEV(Register\n          // onRegister={handleRegisterUser}\n          , {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/sign-in\",\n          children: /*#__PURE__*/_jsxDEV(Login\n          // onLogin={handleLoginUser}\n          , {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          exact: true,\n          path: \"/profile\"\n          // isLoginned={loggedIn}\n          ,\n          children: /*#__PURE__*/_jsxDEV(Profile\n          // logOut={logOut} \n          // onUpdateUser={handleUpdateUser} \n          , {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          children: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 7\n  }, this);\n}\n_s(App, \"v40wwY5hwUOjL+0BBLIskB65mG0=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Header","Main","NotFound","Movies","Profile","EditPopup","useState","useCallback","CurrentUserContext","api","Login","Register","Route","Switch","Redirect","useHistory","ProtectedRoute","jsxDEV","_jsxDEV","App","_ref","_s","history","loggedIn","setLoggedIn","localStorage","getItem","currentUser","setCurrentUser","popup","setPopup","externalMovies","setExternalMovies","myMovies","setMyMovies","logOut","e","preventDefault","removeItem","push","type","text","getUser","jwt","checkAuth","then","res","savedExternalMovies","JSON","parse","Array","isArray","savedMyMovies","catch","err","console","log","useEffect","error","message","handleRegister","password","email","name","MainApi","register","handleLogin","Promise","resolve","reject","login","token","usr","setItem","handleUpdateUser","data","setUser","handlerCreateMovie","createMovie","m","stringify","handlerDeleteMovie","id","deleteMovie","filter","f","_id","getExternalMovies","saved","getMovies","getMyMovies","Provider","value","children","className","path","exact","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/dev/diplom/movies-explorer-frontend/src/components/App/App.js"],"sourcesContent":["import Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport NotFound from '../NotFound/NotFound';\nimport Movies from '../Movies/Movies';\nimport Profile from '../Profile/Profile';\n// import Footer from './Footer';\nimport EditPopup from '../EditPopup/EditPopup';\n// import AddPopup from './AddPopup';\n// import AvatarPopup from './AvatarPopup';\n// import DeletePopup from './DeletePopup';\nimport { useState, useCallback  } from 'react';\nimport './App.css';\n// import ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport { api } from '../../utils/Api';\nimport Login from '../Login/Login';\nimport Register from '../Register/Register';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\n// import { useHistory } from 'react-router-dom';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\n// import InfoTooltip from './InfoTooltip';\n// import authApi from '../../utils/authApi';\n\nfunction App( {history} ) {\n   const [loggedIn, setLoggedIn] = useState(localStorage.getItem(\"jwt\") !== null);\n   const [currentUser, setCurrentUser] = useState();\n   const [popup, setPopup] = useState();\n   const [externalMovies, setExternalMovies] = useState();\n   const [myMovies, setMyMovies] = useState();\n \n   // Выход\n   const logOut = useCallback((e) => {\n     if (e) e.preventDefault();\n \n     localStorage.removeItem(\"jwt\");\n     setCurrentUser();\n     localStorage.removeItem(\"myMovies\");\n     setMyMovies();\n     localStorage.removeItem(\"externalMovies\");\n     setExternalMovies();\n \n     localStorage.removeItem(\"externalMoviesSearch\");\n     localStorage.removeItem(\"externalMoviesToggle\");\n     localStorage.removeItem(\"myMoviesSearch\");\n     localStorage.removeItem(\"myMoviesToggle\");\n     \n     setLoggedIn(false);\n     history.push(\"/\");\n     setPopup({ type: \"success\", text: \"Вы успешно вышли\" });\n   }, [history]);\n \n   const getUser = useCallback(\n     (jwt) => {\n       return api.checkAuth(jwt)\n         .then((res) => {\n           if (res) {\n             setCurrentUser(res);\n \n             const savedExternalMovies = JSON.parse(\n               localStorage.getItem(\"externalMovies\")\n             );\n             if (savedExternalMovies && Array.isArray(savedExternalMovies)) {\n               setExternalMovies(savedExternalMovies);\n             }\n \n             const savedMyMovies = JSON.parse(localStorage.getItem(\"myMovies\"));\n             if (savedMyMovies && Array.isArray(savedMyMovies)) {\n               setMyMovies(savedMyMovies);\n             }\n           }\n         })\n         .catch((err) => {\n           logOut();\n           console.log(err);\n         });\n     },\n     [logOut]\n   );\n \n   useEffect(() => {\n     const jwt = localStorage.getItem(\"jwt\");\n \n     if (loggedIn && jwt && !currentUser) {\n       getUser(jwt);\n     }\n   }, [loggedIn, getUser, currentUser]);\n \n   const error = (err) => {\n     console.log(err);\n     setPopup({\n       type: \"error\",\n       text: err && err.message ? err.message : \"Произошла ошибка\",\n     });\n   };\n \n   const handleRegister = (password, email, name) => {\n     return MainApi.register(password, email, name)\n       .then((res) => {\n         setPopup({ type: \"success\", text: \"Вы успешно зарегистрировались\" });\n         history.push(\"/signin\");\n       })\n       .catch(error);\n   };\n \n   // Запрос на логин по паролю и мэйлу\n   const handleLogin = (password, email) => {\n     return new Promise((resolve, reject) => {\n       MainApi.login(password, email)\n         .then((res) => {\n           if (res && res.token) {\n             getUser(res.token)\n               .then((usr) => {\n                 localStorage.setItem(\"jwt\", res.token);\n                 setLoggedIn(true);\n                 setPopup({ type: \"success\", text: \"Вы успешно вошли\" });\n                 history.push(\"/movies\");\n \n                 resolve();\n               })\n               .catch((err) => {\n                 error(err);\n                 reject();\n               });\n           }\n         })\n         .catch((err) => {\n           error(err);\n           reject();\n         });\n     });\n   };\n \n   const handleUpdateUser = (data) => {\n     return MainApi.setUser(data)\n       .then((data) => {\n         setCurrentUser(data);\n         setPopup({ type: \"success\", text: \"Профиль успешно сохранен\" });\n       })\n       .catch(error);\n   };\n \n   const handlerCreateMovie = (data) => {\n     MainApi.createMovie(data)\n       .then((res) => {\n         setMyMovies((m) => {\n           m.push(res);\n           localStorage.setItem(\"myMovies\", JSON.stringify(m));\n           return [...m];\n         });\n         setPopup({ type: \"success\", text: \"Фильм успешно сохранен\" });\n       })\n       .catch(error);\n   };\n \n   const handlerDeleteMovie = (id) => {\n     MainApi.deleteMovie(id)\n       .then(() => {\n         setMyMovies((m) => {\n           m = m.filter((f) => f._id !== id);\n           localStorage.setItem(\"myMovies\", JSON.stringify(m));\n           return [...m];\n         });\n         setPopup({ type: \"success\", text: \"Фильм успешно удален\" });\n       })\n       .catch(error);\n   };\n \n   const getExternalMovies = () => {\n     return new Promise((resolve, reject) => {\n       const saved = JSON.parse(localStorage.getItem(\"externalMovies\"));\n \n       if (saved && Array.isArray(saved)) {\n         resolve(saved);\n       } else {\n         getMovies()\n           .then((res) => {\n             localStorage.setItem(\"externalMovies\", JSON.stringify(res));\n             resolve(res);\n           })\n           .catch((err) => {\n             error(err);\n             reject();\n           });\n       }\n     });\n   };\n \n   const getMyMovies = () => {\n     return new Promise((resolve, reject) => {\n       const saved = JSON.parse(localStorage.getItem(\"myMovies\"));\n \n       if (saved && Array.isArray(saved)) {\n         resolve(saved);\n       } else {\n         MainApi.getMovies()\n           .then((res) => {\n             localStorage.setItem(\"myMovies\", JSON.stringify(res));\n             resolve(res);\n           })\n           .catch((err) => {\n             error(err);\n             reject();\n           });\n       }\n     });\n   };\n \n   if (loggedIn && !currentUser) return null;\n\n   return (\n      <CurrentUserContext.Provider value={currentUser}>\n         <div className=\"page\">\n            <Switch>\n               <Route path='/' exact>\n                  <Main />\n               </Route>\n               <Route path=\"/sign-up\">\n                  <Register\n                  // onRegister={handleRegisterUser}\n                  />\n               </Route>\n               <Route path=\"/sign-in\">\n                  <Login\n                  // onLogin={handleLoginUser}\n                  />\n               </Route>\n               <ProtectedRoute exact path=\"/profile\" \n               // isLoginned={loggedIn}\n               >\n                  <Profile \n                  // logOut={logOut} \n                  // onUpdateUser={handleUpdateUser} \n                  />\n               </ProtectedRoute>\n               <Route path=\"*\">\n                  <NotFound />\n               </Route>\n            </Switch>\n         </div>\n      </CurrentUserContext.Provider>\n   );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}